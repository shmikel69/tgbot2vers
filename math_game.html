<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Math Challenge</title>
  <link rel="stylesheet" href="style.css">
  <!-- style.css уже содержит нужные стили -->
</head>
<body class="colorful-theme"> <!-- Тема применится JS -->
  <div class="container">
    <!-- Icon bar -->
    <div class="icon-bar">
       <div class="icon icon-games" data-action="games"></div>
       <div class="icon icon-stats" data-action="stats"></div>
       <div class="icon icon-inventory" data-action="inventory"></div>
       <div class="icon icon-room" data-action="room"></div>
       <div class="icon icon-battle" data-action="battle"></div>
    </div>

    <h1>MATH CHALLENGE</h1>

    <!-- Start Screen -->
    <div id="start-screen" style="display: none;"> <!-- Управляется JS -->
        <h2>Get Ready!</h2>
        <div id="countdown" class="timer" style="font-size: 4em; margin: 30px 0;">3</div>
        <div class="button-container">
           <button id="cancel-math" class="back-button">Cancel</button>
        </div>
    </div>

    <!-- Game Area -->
    <div id="game-area" class="game-screen" style="display: none;"> <!-- Управляется JS -->
      <div class="timer" id="timer">00:00</div>
      <div id="problem-number" style="margin-bottom: 15px; color: #ddd;">Problem: 1 / 87</div>

      <div class="problem-container">
        <div id="math-problem" class="math-problem">? + ? = ?</div>

        <div class="input-group">
          <input type="number" id="answer-input" class="answer-input" placeholder="?" pattern="\d*"> <!-- pattern для мобильных клавиатур -->
          <button id="submit-answer" class="submit-button">Submit</button>
        </div>
      </div>

      <div class="button-container">
         <button id="cancel" class="back-button">Cancel Game</button>
      </div>
    </div>

    <!-- Results Screen -->
    <div id="results" class="game-screen" style="display: none;"> <!-- Управляется JS -->
      <h2>Your Results</h2>

      <div class="result-display">
        <p>Time: <span id="final-time">00:00</span></p>
        <p>Correct answers: <span id="correct-count">0 / 87</span></p> <!-- Обновил текст -->
        <p>XP earned: <span id="xp-earned">0</span></p>
      </div>

       <!-- Result Messages (optional) -->
       <!-- <div id="result-messages" style="margin-top: 15px; font-size: 0.9em;"></div> -->

      <div class="records">
        <h3>Your Records (Top 5)</h3> <!-- Уточнил заголовок -->
        <div id="records-list">
            <!-- Records loaded by JS -->
            <div>No records yet!</div>
        </div>
      </div>

       <div class="button-container">
          <button id="back-to-menu" class="back-button">Back to Menu</button>
       </div>
    </div>

    <!-- Theme Switcher (оставляем, если нужен на этой странице) -->
    <!--
    <div class="theme-switcher">
      <button id="dark-theme-btn">Dark</button>
      <button id="light-theme-btn">Light</button>
      <button id="colorful-theme-btn">Colorful</button>
    </div>
     -->
  </div>

  <script src="math_game.js"></script>
  <script>
    // Применение темы и навигация
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem("preferred-theme");
      document.body.className = (savedTheme || "colorful") + "-theme";
        document.querySelectorAll(".icon").forEach(icon => {
           icon.addEventListener("click", function() {
               const action = this.getAttribute("data-action");
               if (action === "inventory") { alert("🎒 Inventory is under development."); }
               else if (action === "games") { window.location.href = "index.html"; }
               else if (action === "room") { window.location.href = "room.html"; }
               else if (action === "stats") { window.location.href = "stats.html"; }
               else if (action === "battle") { window.location.href = "battle.html"; }
           });
        });
         // Обработчики для кнопок тем (если они есть на странице)
         /*
         const themeBtns = { colorful: document.getElementById('colorful-theme-btn'), light: document.getElementById('light-theme-btn'), dark: document.getElementById('dark-theme-btn') };
         if (themeBtns.colorful) themeBtns.colorful.addEventListener('click', () => { document.body.className = 'colorful-theme'; localStorage.setItem('preferred-theme', 'colorful'); });
         if (themeBtns.light) themeBtns.light.addEventListener('click', () => { document.body.className = 'light-theme'; localStorage.setItem('preferred-theme', 'light'); });
         if (themeBtns.dark) themeBtns.dark.addEventListener('click', () => { document.body.className = 'dark-theme'; localStorage.setItem('preferred-theme', 'dark'); });
         */
    });
  </script>
</body>
</html>