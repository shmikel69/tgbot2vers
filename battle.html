<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"> <!-- –î–æ–±–∞–≤–ª–µ–Ω user-scalable=no -->
  <title>Battle - Brain Training Game</title>
  <link rel="stylesheet" href="style.css">
  <!-- –£–±—Ä–∞–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ battle.css –∏ character.css, —Ç.–∫. —Å—Ç–∏–ª–∏ –≤ style.css -->
</head>
<body class="colorful-theme"> <!-- –¢–µ–º–∞ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–∑ localStorage —Å–∫—Ä–∏–ø—Ç–æ–º -->
  <div class="container">
    <!-- Icon bar -->
    <div class="icon-bar">
      <div class="icon icon-games" data-action="games"></div>
      <div class="icon icon-stats" data-action="stats"></div>
      <div class="icon icon-inventory" data-action="inventory"></div>
      <div class="icon icon-room" data-action="room"></div>
      <div class="icon icon-battle" data-action="battle"></div>
    </div>

    <h1>‚öîÔ∏è BATTLE ARENA</h1>

    <!-- Battle Quiz Section -->
    <div id="battle-quiz-container" class="battle-quiz-container">
      <h3>Answer correctly for battle buffs!</h3>
      <div id="battle-quiz-question" class="battle-quiz-question"></div>
      <div id="battle-quiz-options" class="battle-quiz-options"></div>
      <div id="quiz-result" class="result-display"></div>
      <!-- –ö–Ω–æ–ø–∫–∞ "Battle" –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ –∑–¥–µ—Å—å —Å–∫—Ä–∏–ø—Ç–æ–º –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ -->
      <div id="battle-start-container" class="battle-start-container" style="display: none;">
        <button id="start-battle-button" class="action-button">Battle</button>
      </div>
    </div>

    <!-- Battle Arena Section (–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç) -->
    <div id="battle-container" class="battle-container" style="display: none;">
      <div class="player-area">
         <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–≥—Ä–æ–∫–∞ -->
        <div id="player-character" class="character-container">
            <!-- –°–ª–æ–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç–æ–º -->
        </div>
        <div class="health-bar">
          <div id="player-health" class="health-fill">100%</div> <!-- –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ–∫—Å—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ -->
        </div>
      </div>

      <div class="vs-indicator">VS</div>

      <div class="enemy-area">
         <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Ä–∞–≥–∞ -->
        <div id="enemy-character" class="enemy-container">
             <!-- –ö–ª–∞—Å—Å –≤—Ä–∞–≥–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç–æ–º -->
        </div>
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–∞–≥–µ -->
        <div style="text-align: center;">
          <div id="enemy-name">Enemy</div>
          <div id="enemy-level">Level: ?</div>
          <div id="enemy-type">Type: ?</div>
        </div>
        <div class="health-bar">
          <div id="enemy-health" class="health-fill">100%</div> <!-- –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ–∫—Å—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ -->
        </div>
      </div>
    </div>

    <!-- Healing Orb (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç) -->
    <div id="healing-orb" class="healing-orb" style="display: none;">+</div>

    <!-- Battle Messages (–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç –∏–ª–∏ –ø—É—Å—Ç) -->
    <div id="battle-messages" class="battle-messages" style="display: none;"></div>

    <!-- –ö–Ω–æ–ø–∫–∞ –ù–∞–∑–∞–¥ (–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞) -->
    <div class="button-container">
      <button id="back-to-menu" class="back-button">Back to Menu</button>
    </div>
  </div>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ -->
  <script src="battle_quiz.js"></script>
  <script src="battle.js"></script>
  <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ–º –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–µ—Å–ª–∏ –æ–Ω –Ω—É–∂–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö) -->
  <!-- <script src="script.js"></script> -->
   <script>
      // –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã –∏–∑ localStorage, –µ—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π script.js –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
      // –∏–ª–∏ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ battle_quiz.js/battle.js
      document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem("preferred-theme");
        if (savedTheme) {
          document.body.className = savedTheme + "-theme";
        } else {
          document.body.className = "colorful-theme"; // –¢–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–∫–æ–Ω–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–¥—É–±–ª–∏—Ä—É–µ–º –∏–∑ script.js, –µ—Å–ª–∏ –æ–Ω –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω)
         document.querySelectorAll(".icon").forEach(icon => {
            icon.addEventListener("click", function() {
                const action = this.getAttribute("data-action");
                if (action === "inventory") {
                    alert("üéí Inventory is under development."); // –ò—Å–ø–æ–ª—å–∑—É–µ–º alert –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã
                } else if (action === "games") {
                    window.location.href = "index.html";
                } else if (action === "room") {
                    window.location.href = "room.html";
                } else if (action === "stats") {
                    window.location.href = "stats.html";
                } else if (action === "battle") {
                   // –£–∂–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±–∏—Ç–≤—ã
                   window.location.reload(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ —Å –∫–≤–∏–∑–∞
                }
            });
         });

         // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –ù–∞–∑–∞–¥
         document.getElementById('back-to-menu').addEventListener('click', function() {
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–æ–π –ø–µ—Ä–µ–¥ —É—Ö–æ–¥–æ–º
            if (window.battleInProgress && typeof window.endBattleCleanup === 'function') {
                window.endBattleCleanup(); // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –æ—á–∏—Å—Ç–∫–∏, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
            }
            window.location.href = 'index.html';
        });

      });
   </script>
</body>
</html>